<!doctype html>
<html lang="sv">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Tjuvens Kassask√•p</title>

<style>
  body{
    margin:0;
    min-height:100vh;
    display:grid;
    place-items:center;
    background:radial-gradient(900px 600px at 50% 30%, #22283a, #0b0d12 70%);
    font-family:system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
    color:#eaeaff;
  }

  .wrap{
    width:min(92vw, 380px);
    display:flex;
    flex-direction:column;
    gap:14px;
    align-items:stretch;
  }

  .lock{
    width:100%;
    aspect-ratio:1/1;
    border-radius:50%;
    background:#1c1f2b;
    position:relative;
    box-shadow:0 0 40px rgba(0,0,0,.6);
    overflow:hidden;
  }

  /* ‚ÄúAntikt l√•s‚Äù-bakgrund */
  .lock::before{
    content:"";
    position:absolute;
    inset:0;
    background-image: var(--img);
    background-size: cover;
    background-position:center;
    filter: contrast(1.05) brightness(.9);
    opacity:.35;
  }

  .tile{
    width:74px;
    height:74px;
    border-radius:50%;
    position:absolute;
    display:grid;
    place-items:center;
    font-weight:800;
    cursor:pointer;
    user-select:none;
    transition: transform .12s ease, filter .2s ease, opacity .2s ease;
    outline: 1px solid rgba(255,255,255,.14);
    background: rgba(20,22,30,.65);
    backdrop-filter: blur(2px);
    z-index: 1;
  }
  .tile:hover{ transform: scale(1.03); filter:brightness(1.08); }
  .tile:active{ transform: scale(.98); }

  .tile.locked{
    opacity:.35;
    filter: grayscale(1) brightness(.65);
    cursor:not-allowed;
  }

  .tile.wrongflash{
    animation: wrong .25s ease-in-out 2;
  }
  @keyframes wrong{
    0%,100%{ transform: scale(1); }
    50%{ transform: scale(1.04); }
  }

  .center{
    position:absolute;
    inset: 38%;
    border-radius:50%;
    background: rgba(255,255,255,.06);
    outline: 1px solid rgba(255,255,255,.14);
    display:grid;
    place-items:center;
    cursor:pointer;
    z-index: 2;
    font-weight:700;
  }

  .message{
    text-align:center;
    min-height:1.2em;
    opacity:.92;
  }

  .solved{
    animation:pulse 1.5s ease-in-out infinite;
    box-shadow:0 0 50px rgba(120,255,200,.35);
  }
  @keyframes pulse{
    0%,100%{ transform: scale(1); }
    50%{ transform: scale(1.01); }
  }
</style>
</head>

<body>

<div class="wrap">
  <div class="lock" id="lock" aria-label="Kassask√•psl√•s"></div>
  <div class="message" id="msg"></div>
</div>

<script>
(() => {
  // ‚úÖ Byt g√§rna till en lokal bild i ditt repo (t.ex. "./lock.jpg") f√∂r s√§ker laddning
  const IMAGE_URL = "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRcon_mDpHDnYwCTnJkKvfwv_4bMocY1wH08w&s";

  // ‚úÖ R√§tt ordning:
  const SOLUTION = ["A","C","E","D","F","B"];

  // ‚úÖ H√§r byter du symbolerna som syns p√• varje knapp:
  // Du kan anv√§nda text (‚ú¶), emoji (üóùÔ∏è), runor (·ö†), eller korta ord.
  const SYMBOLS = {
    A: "üúÅ",  // byt till valfri symbol
    B: "üúÉ",
    C: "üúÇ",
    D: "üúÑ",
    E: "‚ú∂",
    F: "‚òæ"
  };

  // Positioner runt ‚Äúl√•set‚Äù
  const POS = {
    A:[41, 10],
    B:[68, 26],
    C:[68, 58],
    D:[41, 74],
    E:[14, 58],
    F:[14, 26]
  };

  const lock = document.getElementById("lock");
  const msg  = document.getElementById("msg");

  let progress = 0;
  let solved = false;

  function setMessage(t){ msg.textContent = t; }

  function reset(){
    progress = 0;
    solved = false;
    lock.classList.remove("solved");
    setMessage("L√•set v√§ntar‚Ä¶");
    render();
  }

  function clickSymbol(letter){
    if (solved) return;

    const expected = SOLUTION[progress];
    if (letter === expected) {
      progress++;
      setMessage(`‚úì ${letter}‚Ä¶`);

      // l√•s knappen visuellt
      const el = document.querySelector(`[data-letter="${letter}"]`);
      if (el) el.classList.add("locked");

      if (progress === SOLUTION.length) {
        solved = true;
        lock.classList.add("solved");
        setMessage("üîì Kassask√•pet √∂ppnas ljudl√∂st.");
      }
      return;
    }

    // Fel: liten feedback och reset av sekvensen (kan √§ndras om du vill)
    setMessage("‚úó Fel‚Ä¶ fj√§dern sp√§nner om.");
    flashWrong(letter);
    // Reset efter kort delay
    setTimeout(() => {
      progress = 0;
      // l√•s upp alla knappar visuellt
      document.querySelectorAll(".tile").forEach(t => t.classList.remove("locked"));
      setMessage("L√•set v√§ntar‚Ä¶");
    }, 450);
  }

  function flashWrong(letter){
    const el = document.querySelector(`[data-letter="${letter}"]`);
    if (!el) return;
    el.classList.add("wrongflash");
    setTimeout(() => el.classList.remove("wrongflash"), 600);
  }

  function render(){
    lock.innerHTML = "";
    lock.style.setProperty("--img", `url("${IMAGE_URL}")`);

    // Skapa knappar
    for (const [letter, [xPct,yPct]] of Object.entries(POS)){
      const btn = document.createElement("div");
      btn.className = "tile";
      btn.dataset.letter = letter;
      btn.style.left = `calc(${xPct}% - 37px)`;
      btn.style.top  = `calc(${yPct}% - 37px)`;
      btn.textContent = SYMBOLS[letter] ?? letter;

      btn.addEventListener("click", () => clickSymbol(letter));
      btn.addEventListener("touchend", (e) => { e.preventDefault(); clickSymbol(letter); }, {passive:false});

      lock.appendChild(btn);
    }

    // Reset i mitten
    const center = document.createElement("div");
    center.className = "center";
    center.textContent = "Reset";
    center.addEventListener("click", reset);
    lock.appendChild(center);
  }

  // init
  setMessage("L√•set v√§ntar‚Ä¶");
  render();
})();
</script>

</body>
</html>
